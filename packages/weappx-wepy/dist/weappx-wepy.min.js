!(function(t, e) {
  'object' == typeof exports && 'object' == typeof module
    ? (module.exports = e())
    : 'function' == typeof define && define.amd
      ? define([], e)
      : 'object' == typeof exports
        ? (exports['weappx-wepy'] = e())
        : (t['weappx-wepy'] = e());
})('undefined' != typeof self ? self : this, function() {
  return (function(n) {
    var o = {};
    function r(t) {
      if (o[t]) return o[t].exports;
      var e = (o[t] = { i: t, l: !1, exports: {} });
      return n[t].call(e.exports, e, e.exports, r), (e.l = !0), e.exports;
    }
    return (
      (r.m = n),
      (r.c = o),
      (r.d = function(t, e, n) {
        r.o(t, e) || Object.defineProperty(t, e, { configurable: !1, enumerable: !0, get: n });
      }),
      (r.n = function(t) {
        var e =
          t && t.__esModule
            ? function() {
                return t.default;
              }
            : function() {
                return t;
              };
        return r.d(e, 'a', e), e;
      }),
      (r.o = function(t, e) {
        return Object.prototype.hasOwnProperty.call(t, e);
      }),
      (r.p = ''),
      r((r.s = 2))
    );
  })([
    function(t, e, n) {
      'use strict';
      Object.defineProperty(e, '__esModule', { value: !0 }),
        (e.getStore = function() {
          return o;
        }),
        (e.setStore = function(t) {
          o = t;
        });
      var o = null;
    },
    function(t, e, n) {
      'use strict';
      Object.defineProperty(e, '__esModule', { value: !0 }), (e.mapActions = e.mapState = void 0);
      var a = n(0);
      (e.mapState = function(t) {
        var o = {};
        return (
          r(t).forEach(function(t) {
            var e = t.key,
              n = t.val;
            o[e] = function() {
              var t = (0, a.getStore)().getState();
              return 'function' == typeof n ? n.call(this, t) : t[n];
            };
          }),
          o
        );
      }),
        (e.mapActions = function(t) {
          var n = {};
          return (
            r(t).forEach(function(t) {
              var e = t.key,
                u = t.val;
              n[e] = function() {
                for (
                  var t = (0, a.getStore)(), e = void 0, n = arguments.length, o = Array(n), r = 0;
                  r < n;
                  r++
                )
                  o[r] = arguments[r];
                return (
                  (e =
                    'string' == typeof u
                      ? { type: u, payload: 1 < o.length ? o : o[0] }
                      : 'function' == typeof u
                        ? u.apply(t, o)
                        : u),
                  t.dispatch.call(t, e)
                );
              };
            }),
            n
          );
        });
      function r(e) {
        return Array.isArray(e)
          ? e.map(function(t) {
              return { key: t, val: t };
            })
          : Object.keys(e).map(function(t) {
              return { key: t, val: e[t] };
            });
      }
    },
    function(t, e, n) {
      'use strict';
      Object.defineProperty(e, '__esModule', { value: !0 });
      var o,
        r = n(3),
        u = (o = r) && o.__esModule ? o : { default: o },
        a = n(0),
        i = n(1);
      var c = {
        connect: u.default,
        setStore: a.setStore,
        getStore: a.getStore,
        mapState: i.mapState,
        mapActions: i.mapActions,
      };
      (e.default = c), (t.exports = e.default);
    },
    function(t, e, n) {
      'use strict';
      Object.defineProperty(e, '__esModule', { value: !0 });
      var f = (function() {
        function o(t, e) {
          for (var n = 0; n < e.length; n++) {
            var o = e[n];
            (o.enumerable = o.enumerable || !1),
              (o.configurable = !0),
              'value' in o && (o.writable = !0),
              Object.defineProperty(t, o.key, o);
          }
        }
        return function(t, e, n) {
          return e && o(t.prototype, e), n && o(t, n), t;
        };
      })();
      e.default = function(i, c) {
        return (
          (i = (0, o.mapState)(i || {})),
          (c = (0, o.mapActions)(c || {})),
          function(n) {
            var o = null,
              r = n.prototype.onLoad,
              u = n.prototype.onUnload,
              a = function() {
                var n = this,
                  o = ((0, p.getStore)(), !1);
                Object.keys(i).forEach(function(t) {
                  var e = i[t].call(n);
                  n[t] !== e && ((n[t] = e), (o = !0));
                }),
                  o && this.$apply();
              };
            return (function(t) {
              function e() {
                !(function(t, e) {
                  if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function');
                })(this, e);
                var t = (function(t, e) {
                  if (!t)
                    throw new ReferenceError(
                      "this hasn't been initialised - super() hasn't been called"
                    );
                  return !e || ('object' != typeof e && 'function' != typeof e) ? t : e;
                })(this, (e.__proto__ || Object.getPrototypeOf(e)).call(this));
                return (
                  (t.computed = Object.assign(t.computed || {}, i)),
                  (t.methods = Object.assign(t.methods || {}, c)),
                  t
                );
              }
              return (
                (function(t, e) {
                  if ('function' != typeof e && null !== e)
                    throw new TypeError(
                      'Super expression must either be null or a function, not ' + typeof e
                    );
                  (t.prototype = Object.create(e && e.prototype, {
                    constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 },
                  })),
                    e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : (t.__proto__ = e));
                })(e, n),
                f(e, [
                  {
                    key: 'onLoad',
                    value: function() {
                      var t = (0, p.getStore)();
                      (o = t.subscribe(a.bind(this))), a.call(this), r && r.apply(this, arguments);
                    },
                  },
                  {
                    key: 'onUnload',
                    value: function() {
                      o && o(), (o = null), u && u.apply(this, arguments);
                    },
                  },
                ]),
                e
              );
            })();
          }
        );
      };
      var p = n(0),
        o = n(1);
      t.exports = e.default;
    },
  ]);
});
